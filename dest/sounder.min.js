/*!
Sounder.js
License MIT
 */
(function(){var t,i=[].slice;t=function(){function t(t){this.option=c({},r,t)}var e,n,r,o,s,a,h,l,c,u,p,f;return c=function(t){var i,e,n,r,o,s;for(t=t||{},i=r=1,o=arguments.length;o>=1?o>r:r>o;i=o>=1?++r:--r)if(arguments[i]){s=arguments[i];for(e in s)n=s[e],arguments[i].hasOwnProperty(e)&&(t[e]=n)}return t},u=function(t){var i,e,n,r,o;for(e=[],o=t.children,n=0,r=o.length;r>n;n++)i=o[n],8!==i.nodeType&&e.push(i);return e},f=function(){return Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(),p=function(t,i){return Math.floor(Math.random()*(i-t+1))+t},r={size:[20,4],color:"#e74c3c",column:6,maxHeight:10,autoPlay:!1,speed:60},a=function(){var t,i,e,n,r,o,s,a,h,c,p;for(o=document.createElement("div"),n=document.createDocumentFragment(),r=s=0,c=this.option.column;c>=0?c>s:s>c;r=c>=0?++s:--s)i=document.createElement("div"),e=document.createElement("div"),e.className="fragment",l.call(this,e),n.appendChild(e),i.className="col",i.appendChild(n),o.appendChild(i);for(this.wrapper=o,this.bars=u(o),this.wrapper.style.cssText="height: "+1.5*this.option.size[1]*this.option.maxHeight+"px; line-height: "+1.5*this.option.size[1]*this.option.maxHeight+"px;",p=this.bars,a=0,h=p.length;h>a;a++)t=p[a],t.style.cssText="display: inline-block; vertical-align: bottom;"},e=function(){var t,i;return this.isPlaying=!0,t=this.option.speed,(i=function(e){return function(){return n.call(e),e.animeTimer=setTimeout(i,t)}}(this))()},l=function(t){var i;return t.style.cssText="width: "+this.option.size[0]+"px; height: "+this.option.size[1]+"px; margin: 0 1px "+Math.floor(this.option.size[1]/2)+"px;",f(this.option.color)?(i=this.option.color.length-1,t.style.cssText+="background: "+this.option.color[p(0,i)]):t.style.cssText+="background: "+this.option.color},h=function(t){return t.appendChild(this.wrapper)},o=function(t){var i;return i=document.createElement("div"),i.className="fragment",l.call(this,i),t.insertBefore(i,t.firstChild)},s=function(t){var i;return i=u(t),i[0].parentNode.removeChild(i[0])},n=function(){var t;return t=[],t[0]=o,t[1]=s,function(){var i,e,n,r,a,h;for(a=this.bars,h=[],n=0,r=a.length;r>n;n++)i=a[n],e=u(i).length,h.push(1===e?o.call(this,i):e===this.option.maxHeight?s.call(this,i):t[p(0,1)].call(this,i));return h}}(),t.prototype.create=function(t){return a.call(this),h.call(this,t),this.option.autoPlay===!0&&e.call(this),this},t.prototype.play=function(t){return this.isPlaying!==!0&&(e.call(this),"function"==typeof t&&t()),this},t.prototype.pause=function(t){return this.isPlaying===!0&&(clearTimeout(this.animeTimer),delete this.animeTimer,this.isPlaying=!1,"function"==typeof t&&t()),this},t.prototype.toggle=function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this.isPlaying!==!0?this.play(t[0]):this.pause(t[1]),this},t.prototype.stop=function(t){return this.pause(),this.reset(),"function"==typeof t&&t(),this},t.prototype.reset=function(){var t,i,e,n;for(n=this.bars,i=0,e=n.length;e>i;i++)for(t=n[i];t.childNodes[1];)t.removeChild(t.firstChild);return this},t}(),window.Sounder||(window.Sounder=t)}).call(this);