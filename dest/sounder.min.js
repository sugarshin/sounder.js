/*!
 * @license sounder.js v0.11.0
 * (c) 2014 sugarshin https://github.com/sugarshin
 * License: MIT
 */
(function(){var t,n=[].slice;t=function(){function t(t){this.options=h({},r,t)}var e,i,o,r,s,a,u,l,c,h,p,m,d,f,w;return h=function(t){var n,e,i,o,r,s;for(t=t||{},n=o=1,r=arguments.length;r>=1?r>o:o>r;n=r>=1?++o:--o)if(arguments[n]){s=arguments[n];for(e in s)i=s[e],arguments[n].hasOwnProperty(e)&&(t[e]=i)}return t},p=function(t){var n,e,i,o,r;for(e=[],r=t.children,i=0,o=r.length;o>i;i++)n=r[i],8!==n.nodeType&&e.push(n);return e},d=function(){return Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}}(),m=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},w=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),c=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame||function(t){return window.clearTimeout(t)}}(),f=function(t){return t.parentNode.removeChild(t)},r={size:[20,4],color:"#e74c3c",column:6,maxHeight:10,autoPlay:!1,speed:60},s=function(){var t,n,e,i,o,r,s,a,u,c,h;for(r=document.createElement("div"),r.className="sounder-wrapper",e=document.createDocumentFragment(),i=s=0,c=this.options.column;c>=0?c>s:s>c;i=c>=0?++s:--s)n=document.createElement("div"),n.className="sounder-col",o=document.createElement("div"),o.className="sounder-fragment",l.call(this,o),n.appendChild(o),e.appendChild(n);for(r.appendChild(e),this._bars=p(r),h=this._bars,a=0,u=h.length;u>a;a++)t=h[a],t.style.cssText="display: inline-block; vertical-align: bottom;";return this._wrapper=r,this._wrapper.style.cssText="height: "+1.5*this.options.size[1]*this.options.maxHeight+"px; line-height: "+1.5*this.options.size[1]*this.options.maxHeight+"px;"},i=function(){var t,n;return this._isPlaying=!0,n=(new Date).getTime(),(t=function(e){return function(){var i;return e._timerID=w(t),i=(new Date).getTime(),i-n>=100-e.options.speed?(o.call(e),n=(new Date).getTime()):void 0}}(this))()},l=function(t){var n,e;return d(this.options.color)?(e=this.options.color.length-1,n=this.options.color[m(0,e)]):n=this.options.color,t.style.cssText="width: "+this.options.size[0]+"px; height: "+this.options.size[1]+"px; margin: 0 1px "+Math.floor(this.options.size[1]/2)+"px; background: "+n+";"},a=function(t){return t.appendChild(this._wrapper)},e=function(t){var n;return n=document.createElement("div"),n.className="sounder-fragment",l.call(this,n),t.insertBefore(n,t.firstChild)},u=function(t){var n;return n=p(t),n[0].parentNode.removeChild(n[0])},o=function(){var t;return t=[],t[0]=e,t[1]=u,function(){var n,i,o,r,s,a;for(s=this._bars,a=[],o=0,r=s.length;r>o;o++)n=s[o],i=p(n).length,a.push(1===i?e.call(this,n):i===this.options.maxHeight?u.call(this,n):t[m(0,1)].call(this,n));return a}}(),t.prototype.create=function(t){return s.call(this),a.call(this,t),this.options.autoPlay===!0&&i.call(this),this},t.prototype.play=function(t){return this._isPlaying!==!0&&(i.call(this),"function"==typeof t&&t()),this},t.prototype.pause=function(t){return this._isPlaying===!0&&(c(this._timerID),this._isPlaying=!1,"function"==typeof t&&t()),this},t.prototype.toggle=function(){var t;return t=1<=arguments.length?n.call(arguments,0):[],this._isPlaying!==!0?this.play(t[0]):this.pause(t[1]),this},t.prototype.stop=function(t){return this.pause(),this.reset(),"function"==typeof t&&t(),this},t.prototype.reset=function(){var t,n,e,i;for(i=this._bars,n=0,e=i.length;e>n;n++)for(t=i[n];t.childNodes[1];)t.removeChild(t.firstChild);return this},t.prototype.destroy=function(t){return c(this._timerID),null!=this._timerID&&(this._timerID=null),f(this._wrapper),"function"==typeof t?t():void 0},t}(),window.Sounder||(window.Sounder=t)}).call(this);