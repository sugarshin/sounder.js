/*!
Sounder.js
License MIT
 */
(function(){var t,i=[].slice;t=function(){function t(t){this.option=h({},o,t)}var e,n,o,r,s,a,h,l,c;return h=function(t){var i,e,n,o,r,s;for(t=t||{},i=o=1,r=arguments.length;r>=1?r>o:o>r;i=r>=1?++o:--o)if(arguments[i]){s=arguments[i];for(e in s)n=s[e],arguments[i].hasOwnProperty(e)&&(t[e]=n)}return t},l=function(t){var i,e,n,o,r;for(e=[],r=t.children,n=0,o=r.length;o>n;n++)i=r[n],8!==i.nodeType&&e.push(i);return e},c=function(){return Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)}},o={size:[20,4],color:"#e74c3c",column:6,maxHeight:10,autoPlay:!1,speed:60},r=function(){var t,i,e,n,o,r,s,h,c,u,p;for(r=document.createElement("div"),n=document.createDocumentFragment(),o=s=0,u=this.option.column;u>=0?u>s:s>u;o=u>=0?++s:--s)i=document.createElement("div"),e=document.createElement("div"),e.className="fragment",a.call(this,e),n.appendChild(e),i.className="col",i.appendChild(n),r.appendChild(i);for(this.wrapper=r,this.bars=l(r),this.wrapper.style.cssText="height: "+1.5*this.option.size[1]*this.option.maxHeight+"px; line-height: "+1.5*this.option.size[1]*this.option.maxHeight+"px;",p=this.bars,h=0,c=p.length;c>h;h++)t=p[h],t.style.cssText="display: inline-block; vertical-align: bottom;"},e=function(){var t,i;return this.isPlaying=!0,t=this.option.speed,(i=function(e){return function(){return n.call(e),e.animeTimer=setTimeout(i,t)}}(this))()},a=function(t){var i;return t.style.cssText="width: "+this.option.size[0]+"px; height: "+this.option.size[1]+"px; margin: 0 1px "+Math.floor(this.option.size[1]/2)+"px;",c(this.option.color)?(i=this.option.color.length,t.style.cssText+="background: "+this.option.color[Math.floor(Math.random()*i)]):t.style.cssText+="background: "+this.option.color},s=function(t){return t.appendChild(this.wrapper)},n=function(){var t,i,e,n,o,r,s,h;for(n=[],e=function(t){return function(i){var e;return e=document.createElement("div"),e.className="fragment",a.call(t,e),i.insertBefore(e,i.firstChild)}}(this),o=function(t){var i;return i=l(t),i[0].parentNode.removeChild(i[0])},n[0]=e,n[1]=o,h=this.bars,r=0,s=h.length;s>r;r++)t=h[r],i=l(t).length,1===i?e(t):i===this.option.maxHeight?o(t):n[Math.floor(2*Math.random())](t)},t.prototype.create=function(t){return r.call(this),s.call(this,t),this.option.autoPlay===!0&&e.call(this),this},t.prototype.play=function(t){return this.isPlaying!==!0&&(e.call(this),"function"==typeof t&&t()),this},t.prototype.pause=function(t){return this.isPlaying===!0&&(clearTimeout(this.animeTimer),delete this.animeTimer,this.isPlaying=!1,"function"==typeof t&&t()),this},t.prototype.toggle=function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this.isPlaying!==!0?this.play(t[0]):this.pause(t[1]),this},t.prototype.stop=function(t){return this.pause(),this.reset(),"function"==typeof t&&t(),this},t.prototype.reset=function(){var t,i,e,n;for(n=this.bars,i=0,e=n.length;e>i;i++)for(t=n[i];t.childNodes[1];)t.removeChild(t.firstChild);return this},t}(),window.Sounder||(window.Sounder=t)}).call(this);