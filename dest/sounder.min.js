/*!
Sounder.js
License MIT
 */
(function(){var t,i=[].slice;t=function(){function t(t){this.option=l({},o,t)}var e,n,o,r,s,a,h,l,u;return l=function(t){var i,e,n,o,r,s;for(t=t||{},i=o=1,r=arguments.length;r>=1?r>o:o>r;i=r>=1?++o:--o)if(arguments[i]){s=arguments[i];for(e in s)n=s[e],arguments[i].hasOwnProperty(e)&&(t[e]=n)}return t},u=function(t){var i,e,n,o,r;for(e=[],r=t.children,n=0,o=r.length;o>n;n++)i=r[n],8!==i.nodeType&&e.push(i);return e},o={size:[20,4],color:"#e74c3c",column:6,maxHeight:10,autoPlay:!1,speed:60},h=["#23AAA4","#5AB5B0","#78BEB2","#686F89","#DC5D54","#DD6664","#D94142","#E78E21","#E9A21F","#EDB51C"],r=function(){var t,i,e,n,o,r,s,h,l,p,c;for(r=document.createElement("div"),n=document.createDocumentFragment(),o=s=0,p=this.option.column;p>=0?p>s:s>p;o=p>=0?++s:--s)i=document.createElement("div"),e=document.createElement("div"),e.className="fragment",a.call(this,e),n.appendChild(e),i.className="col",i.appendChild(n),r.appendChild(i);for(this.wrapper=r,this.bars=u(r),this.wrapper.style.height=1.5*this.option.size[1]*this.option.maxHeight+"px",this.wrapper.style.lineHeight=1.5*this.option.size[1]*this.option.maxHeight+"px",c=this.bars,h=0,l=c.length;l>h;h++)t=c[h],t.style.display="inline-block",t.style.verticalAlign="bottom"},e=function(){var t,i;return this.isPlaying=!0,t=this.option.speed,(i=function(e){return function(){return n.call(e),e.animeTimer=setTimeout(i,t)}}(this))()},a=function(t){var i;return i=t.style,i.width=this.option.size[0]+"px",i.height=this.option.size[1]+"px",i.margin="0 1px "+Math.floor(this.option.size[1]/2)+"px",i.background="tsumiki"===this.option.color?h[Math.floor(10*Math.random())]:this.option.color},s=function(t){return t.appendChild(this.wrapper)},n=function(){var t,i,e,n,o,r,s,h;for(n=[],e=function(t){return function(i){var e;return e=document.createElement("div"),e.className="fragment",a.call(t,e),i.insertBefore(e,i.firstChild)}}(this),o=function(t){var i;return i=u(t),i[0].parentNode.removeChild(i[0])},n[0]=e,n[1]=o,h=this.bars,r=0,s=h.length;s>r;r++)t=h[r],i=u(t).length,1===i?e(t):i===this.option.maxHeight?o(t):n[Math.floor(2*Math.random())](t)},t.prototype.create=function(t){return r.call(this),s.call(this,t),this.option.autoPlay===!0&&e.call(this),this},t.prototype.play=function(t){return this.isPlaying!==!0&&(e.call(this),"function"==typeof t&&t()),this},t.prototype.pause=function(t){return this.isPlaying===!0&&(clearTimeout(this.animeTimer),delete this.animeTimer,this.isPlaying=!1,"function"==typeof t&&t()),this},t.prototype.toggle=function(){var t;return t=1<=arguments.length?i.call(arguments,0):[],this.isPlaying!==!0?this.play(t[0]):this.pause(t[1]),this},t.prototype.stop=function(t){return this.pause(),this.reset(),"function"==typeof t&&t(),this},t.prototype.reset=function(){var t,i,e,n;for(n=this.bars,i=0,e=n.length;e>i;i++)for(t=n[i];t.childNodes[1];)t.removeChild(t.firstChild);return this},t}(),window.Sounder||(window.Sounder=t)}).call(this);